@model DataLayer.Models.TblStore
@{
    ViewData["Title"] = "ایجاد فروشگاه";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}
<link href="~/StyleCenter/Sass/sellerStyle/FormsAndSeller.min.css" rel="stylesheet" />
<div class="space-double"></div>
<div class="space-mobile"></div>
<div class="mat my-column my-clipped">
    <div class="formTitr my-row uk-margin-top" dir="rtl">
        <h3 class="center">تنظیمات فروشگاه</h3>
        <a><span class="icon-holder" uk-icon="backIcon"></span></a>
    </div>
    <form class="my-column createAccount uk-padding-small" action="" dir="rtl">
        <div class="my-row uk-margin-top">
            <img class="uk-margin-right" src="~/img/Store/logo-defult.png" width="80" height="80" />
            <div class="uk-margin-auto-right uk-margin-auto-top uk-margin-auto-bottom uk-margin-left">
                <div uk-form-custom>
                    <input type="file" asp-for="LogoUrl">
                    <button class="uk-button uk-button-default uk-button-small uk-border-rounded" type="button" tabindex="-1">انتخاب لوگو</button>
                </div>
            </div>
        </div>
        <hr class="uk-divider-icon uk-margin-remove-bottom" />
        <label for="name">نام فروشگاه:</label>
        <input type="text" asp-for="Name">
        <label for="name">تلفن ثابت:</label>
        <input type="text" asp-for="StaticTell">
        <label for="name">آدرس فروشگاه:</label>
        <input type="text" asp-for="StaticTell">
        <div id="map" class="map"></div>
        <span>
            <select id="ParentCategory" class="uk-select uk-margin-top">
                <option value="0">دسته بندی را انتخاب کنید</option>
                <option>دسته بندی1</option>
                <option>دسته بندی2</option>
                <option>دسته بندی3</option>
            </select>
            <span id="Child">

            </span>
        </span>
        <input type="hidden" asp-for="CatagoryId" id="CatagoryId" />
        <hr class="uk-divider-icon uk-margin-remove-bottom" />
        <label for="name">انتخاب نحوه تحویل و تسویه:</label>
        <div class="delivery uk-grid-small uk-child-width-auto uk-grid">
            <label class="uk-margin-remove-top"><input class="uk-checkbox uk-margin-remove-top" type="checkbox" checked> تحویل و تسویه درب منزل</label>
            <label class="uk-margin-remove-top"><input class="uk-checkbox uk-margin-remove-top" type="checkbox"> تحویل و تسویه در محل فروشگاه</label>
        </div>
        <hr class="uk-divider-icon uk-margin-remove-bottom uk-margin-remove-top" />
        <label for="name">مدت زمان تایید سفارش:</label>
        <input type="text" asp-for="SubscribtionTill">
        <a class="uk-margin-top serviceArea uk-margin-auto" href="#modal-sections" uk-toggle><span class="icon-holder uk-margin-small-left uk-margin-small-right" uk-icon="map"></span>انتخاب محله های سرویس دهی</a>
        <div id="modal-sections" uk-modal>
            <div class="uk-modal-dialog uk-margin-auto-vertical" uk-overflow-auto dir="rtl">
                <button class="uk-modal-close-default" type="button" uk-close></button>
                <div class="uk-modal-header">
                    <h3 class="uk-modal-title uk-text-center">لطفا محله های مورد نظر برای سرویس دهی را انتخاب کنید</h3>
                </div>
                <div class="uk-modal-body uk-padding-small">
                    <div class="delivery uk-grid-small uk-child-width-1-2 uk-grid">
                        <label class="uk-margin-remove-top"><input class="uk-checkbox uk-margin-remove-top" type="checkbox">ولیعصر</label>
                    </div>
                </div>
                <div class="uk-modal-footer uk-text-center">
                    <button class="uk-button uk-button-small uk-border-rounded gradientButton center" type="button">تایید</button>
                </div>
            </div>
        </div>
        <input class="uk-margin-large-top uk-margin-bottom center gradientButton" type="submit" value="ایجاد فروشگاه">
    </form>
</div>
<div class="space-double"></div>
<div class="space-mobile"></div>

@section Script{

    <link href="~/leaflet/leaflet.css" rel="stylesheet" />
    <script src="~/leaflet/leaflet.js"></script>

    <script>

        var map = L.map('map').setView([38.07674409597339, 46.29700302496191], 11);

        L.tileLayer('https://a.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'echoville'
        }).addTo(map);

        var theMarker = {};

        map.on('click', function (e) {
            lat = e.latlng.lat;
            lon = e.latlng.lng;

            //Clear existing marker,

            if (theMarker != undefined) {
                map.removeLayer(theMarker);
            };

            var iconSetting = L.Icon.extend({
                options: {
                    iconSize: [20, 29],
                    iconAnchor: [10, 29]
                }
            });

            var customIcon = new iconSetting({ iconUrl: '/location.png' });
            //Add a marker to show where you clicked.
            $("#Lat").val(lat.toString());
            $("#Lon").val(lon.toString());
            theMarker = L.marker([lat, lon], { icon: customIcon }).addTo(map).bindPopup('<h6 style="color:green">موقعیت فروشگاه شما ثبت شد</h6>').openPopup();
        });

    </script>

}